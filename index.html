<html>

<head>
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0" />
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-aframe.prod.js"></script>

    <script>
        const showInfo = () => {
            const userImage = document.querySelector("#user-image");
            const emailImage = document.querySelector("#email-image");
            const phoneImage = document.querySelector("#phone-image");
            const linkedinImage = document.querySelector("#linkedin-image");
            const webImage = document.querySelector("#web-image");
            const behanceImage = document.querySelector("#behance-image");
            const dribbbleImage = document.querySelector("#dribbble-image");
            const twitterImage = document.querySelector("#twitter-image");
            const instagramImage = document.querySelector("#instagram-image");
            const textTitleDK = document.querySelector("#text-title-dk");
            const textValue = document.querySelector("#text-value");

            const showIcon = (icon, delay) => {
                setTimeout(() => {
                    icon.setAttribute("visible", true);
                }, delay);
            };

            const userIconVisible = (icon, delay) => {
                setTimeout(() => {
                    icon.setAttribute("visible", true);
                    icon.setAttribute("animation__scale", "property: scale; to: 1 1 1; dur: 3000; easing: easeInOutQuint;");
                    showTextWithFade(textTitleDK, 500);
                    showTextWithFade(textValue, 1000);
                }, delay);
            };

            const showTextWithFade = (textElement, delay) => {
                setTimeout(() => {
                    textElement.setAttribute("visible", true);
                    textElement.setAttribute("animation__fade", {
                        property: "text.opacity",
                        to: 1,
                        dur: 1000,
                        easing: "linear"
                    });
                }, delay);
            };

            userIconVisible(userImage, 400);

            showIcon(emailImage, 600);
            showIcon(phoneImage, 1200);
            showIcon(linkedinImage, 1800);
            showIcon(webImage, 2400);
            showIcon(behanceImage, 600);
            showIcon(dribbbleImage, 1200);
            showIcon(twitterImage, 1800);
            showIcon(instagramImage, 2400);

            const openSelectedLink = (link, value) => {
                link.addEventListener('click', function (evt) {
                    window.location.href = value;
                });
            };

            openSelectedLink(emailImage, 'mailto:dhruv.khatri@appunik.com');
            openSelectedLink(phoneImage, 'tel:123456789');
            openSelectedLink(linkedinImage, 'https://www.linkedin.com/in/dhruvkhatri1901');
            openSelectedLink(webImage, 'https://appunik.com/');
            openSelectedLink(behanceImage, 'https://www.behance.net/');
            openSelectedLink(dribbbleImage, 'https://dribbble.com/');
            openSelectedLink(twitterImage, 'https://twitter.com/login?lang=en');
            openSelectedLink(instagramImage, 'https://www.instagram.com/');
        }


        AFRAME.registerComponent('mytarget', {
            init: function () {
                this.el.addEventListener('targetFound', event => {
                    setTimeout(() => {
                        showInfo();
                    }, 300);
                });
            }
        });
    </script>
</head>

<body>
    <a-scene mindar-image="imageTargetSrc: ./newtargets.mind;" color-space="sRGB"
        renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false"
        device-orientation-permission-ui="enabled: false">

        <a-assets>
            <img id="email-icon" src="./icon/email.png">
            <img id="phone-icon" src="./icon/phone-call.png">
            <img id="linkedin-icon" src="./icon/linkedin.png">
            <img id="web-icon" src="./icon/web.png">
            <img id="behance-icon" src="./icon/behance.png">
            <img id="dribbble-icon" src="./icon/dribbble.png">
            <img id="twitter-icon" src="./icon/twitter.png">
            <img id="instagram-icon" src="./icon/instagram.png">
            <img id="user-icon" src="./icon/users-image/dhruv-khatri.jpg">
        </a-assets>

        <a-entity mytarget mindar-image-target="targetIndex: 1">

            <a-text id="text-title-dk" visible="false" value="Dhruv Khatri" color="white" scale="0.7 0.7 0.7"
                position="-0.44 0.7 0" rotation="0 0 1.9"
                animation__fade="property: text.opacity; from: 0; to: 1; dur: 1000; easing: linear;"></a-text>

            <a-plane position="-0.01 0.2 0" color="transparent" opacity="0">
                <a-image class="clickable" visible="false" id="email-image" scale="0.21 0.21 0.21"
                    position="-0.65 0.1 0" src="#email-icon"
                    animation="property: scale; to: 0.15 0.15 0.15; dur: 1000; easing: easeInOutSine; loop: true; dir: alternate"></a-image>

                <a-image class="clickable" visible="false" id="phone-image" scale="0.21 0.21 0.21"
                    position="-0.65 -0.2 0" src="#phone-icon"
                    animation="property: scale; to: 0.15 0.15 0.15; dur: 1000; easing: easeInOutSine; loop: true; dir: alternate"></a-image>

                <a-image class="clickable" visible="false" id="linkedin-image" scale="0.21 0.21 0.21"
                    position="-0.65 -0.5 0" src="#linkedin-icon"
                    animation="property: scale; to: 0.15 0.15 0.15; dur: 1000; easing: easeInOutSine; loop: true; dir: alternate"></a-image>

                <a-image class="clickable" visible="false" id="web-image" scale="0.21 0.21 0.21" position="-0.65 -0.8 0"
                    src="#web-icon"
                    animation="property: scale; to: 0.15 0.15 0.15; dur: 1000; easing: easeInOutSine; loop: true; dir: alternate"></a-image>
            </a-plane>


            <a-circle visible="false" id="user-image" src="#user-icon" radius="0.49" position="0.01 0 0" scale="0 0 0"
                rotation="0 0 0"></a-circle>

            <a-plane position="1.33 0.2 0" color="transparent" opacity="0">
                <a-image class="clickable" visible="false" id="behance-image" scale="0.21 0.21 0.21"
                    position="-0.65 0.1 0" src="#behance-icon"
                    animation="property: scale; to: 0.15 0.15 0.15; dur: 1000; easing: easeInOutSine; loop: true; dir: alternate"></a-image>

                <a-image class="clickable" visible="false" id="dribbble-image" scale="0.21 0.21 0.21"
                    position="-0.65 -0.2 0" src="#dribbble-icon"
                    animation="property: scale; to: 0.15 0.15 0.15; dur: 1000; easing: easeInOutSine; loop: true; dir: alternate"></a-image>

                <a-image class="clickable" visible="false" id="twitter-image" scale="0.21 0.21 0.21"
                    position="-0.65 -0.5 0" src="#twitter-icon"
                    animation="property: scale; to: 0.15 0.15 0.15; dur: 1000; easing: easeInOutSine; loop: true; dir: alternate"></a-image>

                <a-image class="clickable" visible="false" id="instagram-image" scale="0.21 0.21 0.21"
                    position="-0.65 -0.8 0" src="#instagram-icon"
                    animation="property: scale; to: 0.15 0.15 0.15; dur: 1000; easing: easeInOutSine; loop: true; dir: alternate"></a-image>
            </a-plane>

            <a-text id="text-value" visible="false" value="iOS Developer" color="white" scale="0.6 0.6 0.6"
                position="-0.39 -0.7 0" rotation="0 0 1.9"
                animation__fade="property: text.opacity; from: 0; to: 1; dur: 1000; easing: linear;"></a-text>
        </a-entity>

        <a-entity mindar-image-target="targetIndex: 0">
            <a-text id="text-title" visible="true" value="Karan Panchal" color="white" scale="0.7 0.7 0.7"
                position="-0.5 0.7 0"></a-text>
        </a-entity>

        <a-camera position="0 0 0" look-controls="enabled: false" cursor="fuse: false; rayOrigin: mouse;"
            raycaster="far: 10000; objects: .clickable">
        </a-camera>
    </a-scene>
</body>

</html>